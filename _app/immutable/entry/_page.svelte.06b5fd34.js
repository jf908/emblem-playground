import{S as Y,i as Z,s as $,k as w,l as v,m as E,h as _,n as b,b as R,H as ee,o as be,J as K,K as Q,w as X,C as pe,a as T,c as P,G as h,L as te,D as we,E as ve,F as ye,g as C,v as De,d as V,f as Le,M as Ie,q as N,y as ne,r as B,z as se,A as re,B as oe,N as ue,O as Te,P as fe,I as Pe,u as Ue}from"../chunks/index.45ad9d22.js";import{_ as Re}from"../chunks/preload-helper.41c905a7.js";import{r as Ce}from"../chunks/index.b4a1b10e.js";function We(){return new Worker(""+new URL("../workers/editor.worker-d809e5e3.js",import.meta.url).href)}const Se={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],onEnterRules:[{beforeText:new RegExp("^\\s*.*?:\\s*$"),action:{indentAction:1}}],folding:{markers:{start:/^\\s*\/\/ region:\\b/,end:/^\\s*\/\/ endregion\\b/}}},Ve={defaultToken:"",tokenPostfix:".em",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,tokenizer:{root:[[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],{include:"@linecontent"}],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/!([^\\!]|@escapes)+!/,"string"],[/==([^\\*]|@escapes|=(?!=))+==/,"emphasis"],[/=([^\\*]|@escapes)+=/,"strong"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]]}};function Oe(n){let e,t;return{c(){e=w("div"),this.h()},l(s){e=v(s,"DIV",{class:!0}),E(e).forEach(_),this.h()},h(){b(e,"class",t="monaco-container "+(n[1].class??""))},m(s,r){R(s,e,r),n[7](e)},p(s,[r]){r&2&&t!==(t="monaco-container "+(s[1].class??""))&&b(e,"class",t)},i:ee,o:ee,d(s){s&&_(e),n[7](null)}}}function Ne(n,e,t){if(!e)return;const s=e.getModel();s&&n.editor.setModelMarkers(s,"emblem",t.map(r=>({severity:n.MarkerSeverity.Error,startLineNumber:r.location[0],startColumn:r.location[1],endLineNumber:r.location[2],endColumn:r.location[3],message:r.message})))}function Be(n,e,t){let{value:s}=e,{theme:r}=e,{errors:o}=e,a,c,f;function m(){a&&a.editor.remeasureFonts()}be(async()=>{var d;t(5,a=await Re(()=>import("../chunks/editor.main.c3cd4c92.js").then(M=>M.e),["../chunks/editor.main.c3cd4c92.js","../chunks/preload-helper.41c905a7.js","../assets/editor.911c6360.css"],import.meta.url)),window.MonacoEnvironment={globalAPI:!0,getWorker(){return new We}},a.languages.register({id:"emblem"}),a.languages.setLanguageConfiguration("emblem",Se),a.languages.setMonarchTokensProvider("emblem",Ve),t(6,c=a.editor.create(f,{automaticLayout:!0,fontFamily:"JetBrains Mono",theme:r,value:s,language:"emblem"}));const l=(d=c.getModel())==null?void 0:d.onDidChangeContent(()=>{t(2,s=c.getValue())});return document.fonts.ready.then(m),()=>{l==null||l.dispose(),c.dispose()}});function i(l){X[l?"unshift":"push"](()=>{f=l,t(0,f)})}return n.$$set=l=>{t(1,e=K(K({},e),Q(l))),"value"in l&&t(2,s=l.value),"theme"in l&&t(3,r=l.theme),"errors"in l&&t(4,o=l.errors)},n.$$.update=()=>{n.$$.dirty&40&&r&&a&&a.editor.setTheme(r),n.$$.dirty&112&&Ne(a,c,o)},e=Q(e),[f,e,s,r,o,a,c,i]}class Fe extends Y{constructor(e){super(),Z(this,e,Be,Oe,$,{value:2,theme:3,errors:4})}}let p;const Ee=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ee.decode();let z=null;function J(){return(z===null||z.byteLength===0)&&(z=new Uint8Array(p.memory.buffer)),z}function ae(n,e){return Ee.decode(J().subarray(n,n+e))}const U=new Array(128).fill(void 0);U.push(void 0,null,!0,!1);let x=U.length;function de(n){x===U.length&&U.push(U.length+1);const e=x;return x=U[e],U[e]=n,e}let H=null;function W(){return(H===null||H.byteLength===0)&&(H=new Int32Array(p.memory.buffer)),H}let F=0;const G=new TextEncoder("utf-8"),je=typeof G.encodeInto=="function"?function(n,e){return G.encodeInto(n,e)}:function(n,e){const t=G.encode(n);return e.set(t),{read:n.length,written:t.length}};function ke(n,e,t){if(t===void 0){const c=G.encode(n),f=e(c.length);return J().subarray(f,f+c.length).set(c),F=c.length,f}let s=n.length,r=e(s);const o=J();let a=0;for(;a<s;a++){const c=n.charCodeAt(a);if(c>127)break;o[r+a]=c}if(a!==s){a!==0&&(n=n.slice(a)),r=t(r,s,s=a+n.length*3);const c=J().subarray(r+a,r+s),f=je(n,c);a+=f.written}return F=a,r}let q=null;function le(){return(q===null||q.byteLength===0)&&(q=new Uint32Array(p.memory.buffer)),q}function ze(n,e){return le().subarray(n/4,n/4+e)}function He(n,e){const t=e(n.length*4);return le().set(n,t/4),F=n.length,t}function qe(n){return U[n]}function xe(n){n<132||(U[n]=x,x=n)}function Me(n){const e=qe(n);return xe(n),e}function Je(n,e){const s=le().subarray(n/4,n/4+e),r=[];for(let o=0;o<s.length;o++)r.push(Me(s[o]));return r}function Ge(n){try{const a=p.__wbindgen_add_to_stack_pointer(-16),c=ke(n,p.__wbindgen_malloc,p.__wbindgen_realloc),f=F;p.build(a,c,f);var e=W()[a/4+0],t=W()[a/4+1],s=W()[a/4+2],r=W()[a/4+3];if(r)throw Me(s);var o=Je(e,t).slice();return p.__wbindgen_free(e,t*4),o}finally{p.__wbindgen_add_to_stack_pointer(16)}}class ie{static __wrap(e){const t=Object.create(ie.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();p.__wbg_emblemerror_free(e)}get message(){try{const s=p.__wbindgen_add_to_stack_pointer(-16);p.__wbg_get_emblemerror_message(s,this.ptr);var e=W()[s/4+0],t=W()[s/4+1];return ae(e,t)}finally{p.__wbindgen_add_to_stack_pointer(16),p.__wbindgen_free(e,t)}}set message(e){const t=ke(e,p.__wbindgen_malloc,p.__wbindgen_realloc),s=F;p.__wbg_set_emblemerror_message(this.ptr,t,s)}get locations(){try{const r=p.__wbindgen_add_to_stack_pointer(-16);p.__wbg_get_emblemerror_locations(r,this.ptr);var e=W()[r/4+0],t=W()[r/4+1],s=ze(e,t).slice();return p.__wbindgen_free(e,t*4),s}finally{p.__wbindgen_add_to_stack_pointer(16)}}set locations(e){const t=He(e,p.__wbindgen_malloc),s=F;p.__wbg_set_emblemerror_locations(this.ptr,t,s)}}async function Ke(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(s){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function Qe(){const n={};return n.wbg={},n.wbg.__wbg_emblemerror_new=function(e){const t=ie.__wrap(e);return de(t)},n.wbg.__wbindgen_string_new=function(e,t){const s=ae(e,t);return de(s)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(ae(e,t))},n}function Xe(n,e){return p=n.exports,Ae.__wbindgen_wasm_module=e,H=null,q=null,z=null,p}async function Ae(n){typeof n>"u"&&(n=new URL(""+new URL("../assets/emblem_wasm_bg.a2cfa0a5.wasm",import.meta.url).href,self.location));const e=Qe();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:s}=await Ke(await n,e);return Xe(t,s)}const Ye=n=>Ce(null,t=>{if(!globalThis.matchMedia)return;const s=globalThis.matchMedia(n);t(s.matches);const r=o=>t(o.matches);return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}}),me="https://github.com/TheSignPainter98/emblem#41e4052eb061d2da8f7876b9b7591d82ee31e7eb",Ze=n=>({}),_e=n=>({});function he(n){let e,t;const s=n[6].default,r=pe(s,n,n[5],null);return{c(){e=w("div"),r&&r.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var a=E(e);r&&r.l(a),a.forEach(_),this.h()},h(){b(e,"class","fixed z-1 right-0")},m(o,a){R(o,e,a),r&&r.m(e,null),t=!0},p(o,a){r&&r.p&&(!t||a&32)&&we(r,s,o,o[5],t?ye(s,o[5],a,null):ve(o[5]),null)},i(o){t||(C(r,o),t=!0)},o(o){V(r,o),t=!1},d(o){o&&_(e),r&&r.d(o)}}}function $e(n){let e,t,s,r,o,a,c;const f=n[6].button,m=pe(f,n,n[5],_e);let i=n[0]&&he(n);return{c(){e=w("div"),t=w("button"),m&&m.c(),r=T(),i&&i.c(),this.h()},l(l){e=v(l,"DIV",{});var d=E(e);t=v(d,"BUTTON",{class:!0});var M=E(t);m&&m.l(M),M.forEach(_),r=P(d),i&&i.l(d),d.forEach(_),this.h()},h(){b(t,"class",s=n[4].class??"")},m(l,d){R(l,e,d),h(e,t),m&&m.m(t,null),h(e,r),i&&i.m(e,null),n[7](e),o=!0,a||(c=[te(window,"mousedown",n[3]),te(t,"click",n[2])],a=!0)},p(l,[d]){m&&m.p&&(!o||d&32)&&we(m,f,l,l[5],o?ye(f,l[5],d,Ze):ve(l[5]),_e),(!o||d&16&&s!==(s=l[4].class??""))&&b(t,"class",s),l[0]?i?(i.p(l,d),d&1&&C(i,1)):(i=he(l),i.c(),C(i,1),i.m(e,null)):i&&(De(),V(i,1,1,()=>{i=null}),Le())},i(l){o||(C(m,l),C(i),o=!0)},o(l){V(m,l),V(i),o=!1},d(l){l&&_(e),m&&m.d(l),i&&i.d(),n[7](null),a=!1,Ie(c)}}}function et(n,e,t){let{$$slots:s={},$$scope:r}=e,{open:o=!1}=e,a;function c(){t(0,o=!o)}function f(i){o&&!a.contains(i.target)&&t(0,o=!1)}function m(i){X[i?"unshift":"push"](()=>{a=i,t(1,a)})}return n.$$set=i=>{t(4,e=K(K({},e),Q(i))),"open"in i&&t(0,o=i.open),"$$scope"in i&&t(5,r=i.$$scope)},e=Q(e),[o,a,c,f,e,r,s,m]}class tt extends Y{constructor(e){super(),Z(this,e,et,$e,$,{open:0})}}function nt(n){let e,t,s,r,o,a,c=me.split("#")[1].substring(0,8)+"",f,m,i,l,d,M,A,k,y;return{c(){e=w("div"),t=w("div"),s=N(`Using emblem_core
					`),r=w("a"),o=w("span"),a=T(),f=N(c),m=T(),i=w("div"),l=w("input"),d=T(),M=w("label"),A=N("Show debug"),this.h()},l(g){e=v(g,"DIV",{class:!0});var u=E(e);t=v(u,"DIV",{});var D=E(t);s=B(D,`Using emblem_core
					`),r=v(D,"A",{class:!0,href:!0});var I=E(r);o=v(I,"SPAN",{class:!0}),E(o).forEach(_),a=P(I),f=B(I,c),I.forEach(_),D.forEach(_),m=P(u),i=v(u,"DIV",{});var L=E(i);l=v(L,"INPUT",{id:!0,type:!0}),d=P(L),M=v(L,"LABEL",{for:!0});var S=E(M);A=B(S,"Show debug"),S.forEach(_),L.forEach(_),u.forEach(_),this.h()},h(){b(o,"class","i-ph-git-commit"),b(r,"class","text-inherit no-underline rounded hover:text-accent px-1 bg-bg-muted"),b(r,"href",me),b(l,"id","show-debug"),b(l,"type","checkbox"),b(M,"for","show-debug"),b(e,"class","bg-bg-default w-80 p-3 shadow-lg flex flex-col gap-4")},m(g,u){R(g,e,u),h(e,t),h(t,s),h(t,r),h(r,o),h(r,a),h(r,f),h(e,m),h(e,i),h(i,l),l.checked=n[0],h(i,d),h(i,M),h(M,A),k||(y=te(l,"change",n[1]),k=!0)},p(g,u){u&1&&(l.checked=g[0])},d(g){g&&_(e),k=!1,y()}}}function st(n){let e;return{c(){e=w("span"),this.h()},l(t){e=v(t,"SPAN",{class:!0,slot:!0}),E(e).forEach(_),this.h()},h(){b(e,"class","i-ph-list"),b(e,"slot","button")},m(t,s){R(t,e,s)},p:ee,d(t){t&&_(e)}}}function rt(n){let e,t,s,r,o,a,c,f,m,i,l,d,M;return d=new tt({props:{class:"h-full w-10 ml-auto bg-transparent b-0 text-inherit hover:bg-bg-muted text-6",$$slots:{button:[st],default:[nt]},$$scope:{ctx:n}}}),{c(){e=w("nav"),t=w("h1"),s=N("Emblem Playground"),r=T(),o=w("a"),a=w("span"),c=T(),f=w("a"),m=N("Docs"),i=T(),l=w("div"),ne(d.$$.fragment),this.h()},l(A){e=v(A,"NAV",{class:!0});var k=E(e);t=v(k,"H1",{class:!0});var y=E(t);s=B(y,"Emblem Playground"),y.forEach(_),r=P(k),o=v(k,"A",{class:!0,href:!0});var g=E(o);a=v(g,"SPAN",{class:!0}),E(a).forEach(_),g.forEach(_),c=P(k),f=v(k,"A",{class:!0,href:!0});var u=E(f);m=B(u,"Docs"),u.forEach(_),i=P(k),l=v(k,"DIV",{class:!0});var D=E(l);se(d.$$.fragment,D),D.forEach(_),k.forEach(_),this.h()},h(){b(t,"class","m-0 pl-3 text-5"),b(a,"class","text-5 i-ph-github-logo"),b(o,"class","text-inherit no-underline hover:text-accent"),b(o,"href","https://github.com/jf908/emblem-playground"),b(f,"class","text-inherit no-underline hover:text-accent"),b(f,"href","https://kcza.net/emblem/introduction.html"),b(l,"class","ml-auto h-full flex"),b(e,"class","flex items-center h-45px gap-4 text-fg-default bg-bg-default select-none")},m(A,k){R(A,e,k),h(e,t),h(t,s),h(e,r),h(e,o),h(o,a),h(e,c),h(e,f),h(f,m),h(e,i),h(e,l),re(d,l,null),M=!0},p(A,[k]){const y={};k&5&&(y.$$scope={dirty:k,ctx:A}),d.$set(y)},i(A){M||(C(d.$$.fragment,A),M=!0)},o(A){V(d.$$.fragment,A),M=!1},d(A){A&&_(e),oe(d)}}}function ot(n,e,t){let{showDebug:s}=e;function r(){s=this.checked,t(0,s)}return n.$$set=o=>{"showDebug"in o&&t(0,s=o.showDebug)},[s,r]}class at extends Y{constructor(e){super(),Z(this,e,ot,rt,$,{showDebug:0})}}function ge(n){let e,t,s;return{c(){e=w("article"),t=w("pre"),s=N(n[2]),this.h()},l(r){e=v(r,"ARTICLE",{class:!0});var o=E(e);t=v(o,"PRE",{class:!0,id:!0});var a=E(t);s=B(a,n[2]),a.forEach(_),o.forEach(_),this.h()},h(){b(t,"class","min-h-100%"),b(t,"id","debug"),b(e,"class","flex-1 overflow-auto markdown-body")},m(r,o){R(r,e,o),h(e,t),h(t,s)},p(r,o){o&4&&Ue(s,r[2])},d(r){r&&_(e)}}}function lt(n){let e,t,s,r,o,a,c,f,m,i,l,d;function M(u){n[10](u)}let A={};n[3]!==void 0&&(A.showDebug=n[3]),s=new at({props:A}),X.push(()=>ue(s,"showDebug",M));function k(u){n[11](u)}let y={class:"flex-1 overflow-hidden",theme:n[4],errors:n[5]};n[0]!==void 0&&(y.value=n[0]),c=new Fe({props:y}),X.push(()=>ue(c,"value",k));let g=n[3]&&ge(n);return{c(){e=T(),t=w("div"),ne(s.$$.fragment),o=T(),a=w("div"),ne(c.$$.fragment),m=T(),i=w("article"),l=T(),g&&g.c(),this.h()},l(u){Te("svelte-1w3bpid",document.head).forEach(_),e=P(u),t=v(u,"DIV",{class:!0});var I=E(t);se(s.$$.fragment,I),o=P(I),a=v(I,"DIV",{class:!0});var L=E(a);se(c.$$.fragment,L),m=P(L),i=v(L,"ARTICLE",{class:!0,id:!0});var S=E(i);S.forEach(_),l=P(L),g&&g.l(L),L.forEach(_),I.forEach(_),this.h()},h(){document.title="Emblem Playground",b(i,"class","flex-1 overflow-auto markdown-body p-3"),b(i,"id","output"),b(a,"class","flex min-h-0 h-full"),b(t,"class","flex flex-col h-100vh")},m(u,D){R(u,e,D),R(u,t,D),re(s,t,null),h(t,o),h(t,a),re(c,a,null),h(a,m),h(a,i),i.innerHTML=n[1],h(a,l),g&&g.m(a,null),d=!0},p(u,[D]){const I={};!r&&D&8&&(r=!0,I.showDebug=u[3],fe(()=>r=!1)),s.$set(I);const L={};D&16&&(L.theme=u[4]),D&32&&(L.errors=u[5]),!f&&D&1&&(f=!0,L.value=u[0],fe(()=>f=!1)),c.$set(L),(!d||D&2)&&(i.innerHTML=u[1]),u[3]?g?g.p(u,D):(g=ge(u),g.c(),g.m(a,null)):g&&(g.d(1),g=null)},i(u){d||(C(s.$$.fragment,u),C(c.$$.fragment,u),d=!0)},o(u){V(s.$$.fragment,u),V(c.$$.fragment,u),d=!1},d(u){u&&_(e),u&&_(t),oe(s),oe(c),g&&g.d()}}}function it(n,e,t){let s,{data:r}=e,o=!1,a=r.template.replace("{{sample}}",r.samples[Math.floor(Math.random()*r.samples.length)]),c="",f="",m=!1,i="vs-dark",l=[];const d=Ye("(prefers-color-scheme: dark)");Pe(n,d,y=>t(9,s=y));function M(y,g){if(!y)return;let u;try{u=Ge(g)}catch(L){const S=L,j=S.locations,ce=[];for(let O=0;O<j.length;O+=4)ce.push({message:S.message,location:[j[O],j[O+1],j[O+2],j[O+3]]});t(5,l=ce);return}t(5,l=[]);const[D,I]=u;t(1,c=D),t(2,f=I)}be(()=>{Ae().then(()=>{t(8,o=!0)})});function A(y){m=y,t(3,m)}function k(y){a=y,t(0,a)}return n.$$set=y=>{"data"in y&&t(7,r=y.data)},n.$$.update=()=>{n.$$.dirty&512&&t(4,i=s?"vs-dark":"vs"),n.$$.dirty&257&&M(o,a)},[a,c,f,m,i,l,d,r,o,s,A,k]}class dt extends Y{constructor(e){super(),Z(this,e,it,lt,$,{data:7})}}export{dt as default};
