import{S as X,i as Y,s as Z,k as v,l as y,m as k,h,n as g,b as P,H as $,o as me,J as K,K as Q,w as x,C as be,a as T,c as U,G as m,L as ee,D as ge,E as pe,F as we,g as R,v as Ae,d as C,f as De,M as Me,q as N,y as te,r as j,z as ne,A as re,B as se,N as ie,O as Ie,P as ce,I as Le,u as Te}from"../chunks/index.45ad9d22.js";import{_ as Ue}from"../chunks/preload-helper.41c905a7.js";import{r as We}from"../chunks/index.b4a1b10e.js";function Pe(){return new Worker(""+new URL("../workers/editor.worker-d809e5e3.js",import.meta.url).href)}function Re(n){let e,t;return{c(){e=v("div"),this.h()},l(r){e=y(r,"DIV",{class:!0}),k(e).forEach(h),this.h()},h(){g(e,"class",t="monaco-container "+(n[1].class??""))},m(r,s){P(r,e,s),n[7](e)},p(r,[s]){s&2&&t!==(t="monaco-container "+(r[1].class??""))&&g(e,"class",t)},i:$,o:$,d(r){r&&h(e),n[7](null)}}}function Se(n,e,t){if(!e)return;const r=e.getModel();r&&n.editor.setModelMarkers(r,"emblem",t.map(s=>({severity:n.MarkerSeverity.Error,startLineNumber:s.location[0],startColumn:s.location[1],endLineNumber:s.location[2],endColumn:s.location[3],message:s.message})))}function Ve(n,e,t){let{value:r}=e,{theme:s}=e,{errors:o}=e,l,c,f;me(async()=>{var i;t(5,l=await Ue(()=>import("../chunks/editor.main.c3cd4c92.js").then(d=>d.e),["../chunks/editor.main.c3cd4c92.js","../chunks/preload-helper.41c905a7.js","../assets/editor.911c6360.css"],import.meta.url)),window.MonacoEnvironment={globalAPI:!0,getWorker(){return new Pe}},t(6,c=l.editor.create(f,{automaticLayout:!0,theme:s,value:r}));const a=(i=c.getModel())==null?void 0:i.onDidChangeContent(()=>{t(2,r=c.getValue())});return()=>{a==null||a.dispose(),c.dispose()}});function _(a){x[a?"unshift":"push"](()=>{f=a,t(0,f)})}return n.$$set=a=>{t(1,e=K(K({},e),Q(a))),"value"in a&&t(2,r=a.value),"theme"in a&&t(3,s=a.theme),"errors"in a&&t(4,o=a.errors)},n.$$.update=()=>{n.$$.dirty&40&&s&&l&&l.editor.setTheme(s),n.$$.dirty&112&&Se(l,c,o)},e=Q(e),[f,e,r,s,o,l,c,_]}class Ce extends X{constructor(e){super(),Y(this,e,Ve,Re,Z,{value:2,theme:3,errors:4})}}let w;const ve=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});ve.decode();let F=null;function J(){return(F===null||F.byteLength===0)&&(F=new Uint8Array(w.memory.buffer)),F}function oe(n,e){return ve.decode(J().subarray(n,n+e))}const W=new Array(128).fill(void 0);W.push(void 0,null,!0,!1);let z=W.length;function ue(n){z===W.length&&W.push(W.length+1);const e=z;return z=W[e],W[e]=n,e}let H=null;function S(){return(H===null||H.byteLength===0)&&(H=new Int32Array(w.memory.buffer)),H}let B=0;const G=new TextEncoder("utf-8"),Oe=typeof G.encodeInto=="function"?function(n,e){return G.encodeInto(n,e)}:function(n,e){const t=G.encode(n);return e.set(t),{read:n.length,written:t.length}};function ye(n,e,t){if(t===void 0){const c=G.encode(n),f=e(c.length);return J().subarray(f,f+c.length).set(c),B=c.length,f}let r=n.length,s=e(r);const o=J();let l=0;for(;l<r;l++){const c=n.charCodeAt(l);if(c>127)break;o[s+l]=c}if(l!==r){l!==0&&(n=n.slice(l)),s=t(s,r,r=l+n.length*3);const c=J().subarray(s+l,s+r),f=Oe(n,c);l+=f.written}return B=l,s}let q=null;function ae(){return(q===null||q.byteLength===0)&&(q=new Uint32Array(w.memory.buffer)),q}function Ne(n,e){return ae().subarray(n/4,n/4+e)}function je(n,e){const t=e(n.length*4);return ae().set(n,t/4),B=n.length,t}function Be(n){return W[n]}function Fe(n){n<132||(W[n]=z,z=n)}function Ee(n){const e=Be(n);return Fe(n),e}function He(n,e){const r=ae().subarray(n/4,n/4+e),s=[];for(let o=0;o<r.length;o++)s.push(Ee(r[o]));return s}function qe(n){try{const l=w.__wbindgen_add_to_stack_pointer(-16),c=ye(n,w.__wbindgen_malloc,w.__wbindgen_realloc),f=B;w.build(l,c,f);var e=S()[l/4+0],t=S()[l/4+1],r=S()[l/4+2],s=S()[l/4+3];if(s)throw Ee(r);var o=He(e,t).slice();return w.__wbindgen_free(e,t*4),o}finally{w.__wbindgen_add_to_stack_pointer(16)}}class le{static __wrap(e){const t=Object.create(le.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();w.__wbg_emblemerror_free(e)}get message(){try{const r=w.__wbindgen_add_to_stack_pointer(-16);w.__wbg_get_emblemerror_message(r,this.ptr);var e=S()[r/4+0],t=S()[r/4+1];return oe(e,t)}finally{w.__wbindgen_add_to_stack_pointer(16),w.__wbindgen_free(e,t)}}set message(e){const t=ye(e,w.__wbindgen_malloc,w.__wbindgen_realloc),r=B;w.__wbg_set_emblemerror_message(this.ptr,t,r)}get locations(){try{const s=w.__wbindgen_add_to_stack_pointer(-16);w.__wbg_get_emblemerror_locations(s,this.ptr);var e=S()[s/4+0],t=S()[s/4+1],r=Ne(e,t).slice();return w.__wbindgen_free(e,t*4),r}finally{w.__wbindgen_add_to_stack_pointer(16)}}set locations(e){const t=je(e,w.__wbindgen_malloc),r=B;w.__wbg_set_emblemerror_locations(this.ptr,t,r)}}async function ze(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function Je(){const n={};return n.wbg={},n.wbg.__wbg_emblemerror_new=function(e){const t=le.__wrap(e);return ue(t)},n.wbg.__wbindgen_string_new=function(e,t){const r=oe(e,t);return ue(r)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(oe(e,t))},n}function Ge(n,e){return w=n.exports,ke.__wbindgen_wasm_module=e,H=null,q=null,F=null,w}async function ke(n){typeof n>"u"&&(n=new URL(""+new URL("../assets/emblem_wasm_bg.d12d270b.wasm",import.meta.url).href,self.location));const e=Je();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await ze(await n,e);return Ge(t,r)}const Ke=n=>We(null,t=>{if(!globalThis.matchMedia)return;const r=globalThis.matchMedia(n);t(r.matches);const s=o=>t(o.matches);return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}}),fe="https://github.com/TheSignPainter98/emblem#26f2ee9a278f5d1188bc761138ce86a6ac7108c6",Qe=n=>({}),de=n=>({});function _e(n){let e,t;const r=n[6].default,s=be(r,n,n[5],null);return{c(){e=v("div"),s&&s.c(),this.h()},l(o){e=y(o,"DIV",{class:!0});var l=k(e);s&&s.l(l),l.forEach(h),this.h()},h(){g(e,"class","fixed z-1 right-0")},m(o,l){P(o,e,l),s&&s.m(e,null),t=!0},p(o,l){s&&s.p&&(!t||l&32)&&ge(s,r,o,o[5],t?we(r,o[5],l,null):pe(o[5]),null)},i(o){t||(R(s,o),t=!0)},o(o){C(s,o),t=!1},d(o){o&&h(e),s&&s.d(o)}}}function xe(n){let e,t,r,s,o,l,c;const f=n[6].button,_=be(f,n,n[5],de);let a=n[0]&&_e(n);return{c(){e=v("div"),t=v("button"),_&&_.c(),s=T(),a&&a.c(),this.h()},l(i){e=y(i,"DIV",{});var d=k(e);t=y(d,"BUTTON",{class:!0});var M=k(t);_&&_.l(M),M.forEach(h),s=U(d),a&&a.l(d),d.forEach(h),this.h()},h(){g(t,"class",r=n[4].class??"")},m(i,d){P(i,e,d),m(e,t),_&&_.m(t,null),m(e,s),a&&a.m(e,null),n[7](e),o=!0,l||(c=[ee(window,"mousedown",n[3]),ee(t,"click",n[2])],l=!0)},p(i,[d]){_&&_.p&&(!o||d&32)&&ge(_,f,i,i[5],o?we(f,i[5],d,Qe):pe(i[5]),de),(!o||d&16&&r!==(r=i[4].class??""))&&g(t,"class",r),i[0]?a?(a.p(i,d),d&1&&R(a,1)):(a=_e(i),a.c(),R(a,1),a.m(e,null)):a&&(Ae(),C(a,1,1,()=>{a=null}),De())},i(i){o||(R(_,i),R(a),o=!0)},o(i){C(_,i),C(a),o=!1},d(i){i&&h(e),_&&_.d(i),a&&a.d(),n[7](null),l=!1,Me(c)}}}function Xe(n,e,t){let{$$slots:r={},$$scope:s}=e,{open:o=!1}=e,l;function c(){t(0,o=!o)}function f(a){o&&!l.contains(a.target)&&t(0,o=!1)}function _(a){x[a?"unshift":"push"](()=>{l=a,t(1,l)})}return n.$$set=a=>{t(4,e=K(K({},e),Q(a))),"open"in a&&t(0,o=a.open),"$$scope"in a&&t(5,s=a.$$scope)},e=Q(e),[o,l,c,f,e,s,r,_]}class Ye extends X{constructor(e){super(),Y(this,e,Xe,xe,Z,{open:0})}}function Ze(n){let e,t,r,s,o,l,c=fe.split("#")[1].substring(0,8)+"",f,_,a,i,d,M,A,p,L;return{c(){e=v("div"),t=v("div"),r=N(`Using emblem_core
					`),s=v("a"),o=v("span"),l=T(),f=N(c),_=T(),a=v("div"),i=v("input"),d=T(),M=v("label"),A=N("Show debug"),this.h()},l(b){e=y(b,"DIV",{class:!0});var u=k(e);t=y(u,"DIV",{});var D=k(t);r=j(D,`Using emblem_core
					`),s=y(D,"A",{class:!0,href:!0});var I=k(s);o=y(I,"SPAN",{class:!0}),k(o).forEach(h),l=U(I),f=j(I,c),I.forEach(h),D.forEach(h),_=U(u),a=y(u,"DIV",{});var E=k(a);i=y(E,"INPUT",{id:!0,type:!0}),d=U(E),M=y(E,"LABEL",{for:!0});var V=k(M);A=j(V,"Show debug"),V.forEach(h),E.forEach(h),u.forEach(h),this.h()},h(){g(o,"class","i-ph-git-commit"),g(s,"class","text-inherit no-underline rounded hover:text-accent px-1 bg-bg-muted"),g(s,"href",fe),g(i,"id","show-debug"),g(i,"type","checkbox"),g(M,"for","show-debug"),g(e,"class","bg-bg-default w-80 p-3 shadow-lg flex flex-col gap-4")},m(b,u){P(b,e,u),m(e,t),m(t,r),m(t,s),m(s,o),m(s,l),m(s,f),m(e,_),m(e,a),m(a,i),i.checked=n[0],m(a,d),m(a,M),m(M,A),p||(L=ee(i,"change",n[1]),p=!0)},p(b,u){u&1&&(i.checked=b[0])},d(b){b&&h(e),p=!1,L()}}}function $e(n){let e;return{c(){e=v("span"),this.h()},l(t){e=y(t,"SPAN",{class:!0,slot:!0}),k(e).forEach(h),this.h()},h(){g(e,"class","i-ph-list"),g(e,"slot","button")},m(t,r){P(t,e,r)},p:$,d(t){t&&h(e)}}}function et(n){let e,t,r,s,o,l,c,f,_,a,i,d,M;return d=new Ye({props:{class:"h-full w-10 ml-auto bg-transparent b-0 text-inherit hover:bg-bg-muted text-6",$$slots:{button:[$e],default:[Ze]},$$scope:{ctx:n}}}),{c(){e=v("nav"),t=v("h1"),r=N("Emblem Playground"),s=T(),o=v("a"),l=v("span"),c=T(),f=v("a"),_=N("Docs"),a=T(),i=v("div"),te(d.$$.fragment),this.h()},l(A){e=y(A,"NAV",{class:!0});var p=k(e);t=y(p,"H1",{class:!0});var L=k(t);r=j(L,"Emblem Playground"),L.forEach(h),s=U(p),o=y(p,"A",{class:!0,href:!0});var b=k(o);l=y(b,"SPAN",{class:!0}),k(l).forEach(h),b.forEach(h),c=U(p),f=y(p,"A",{class:!0,href:!0});var u=k(f);_=j(u,"Docs"),u.forEach(h),a=U(p),i=y(p,"DIV",{class:!0});var D=k(i);ne(d.$$.fragment,D),D.forEach(h),p.forEach(h),this.h()},h(){g(t,"class","m-0 pl-3 text-5"),g(l,"class","text-5 i-ph-github-logo"),g(o,"class","text-inherit no-underline hover:text-accent"),g(o,"href","https://github.com/jf908/emblem-playground"),g(f,"class","text-inherit no-underline hover:text-accent"),g(f,"href","https://kcza.net/emblem/introduction.html"),g(i,"class","ml-auto h-full flex"),g(e,"class","flex items-center h-45px gap-4 text-fg-default bg-bg-default select-none")},m(A,p){P(A,e,p),m(e,t),m(t,r),m(e,s),m(e,o),m(o,l),m(e,c),m(e,f),m(f,_),m(e,a),m(e,i),re(d,i,null),M=!0},p(A,[p]){const L={};p&5&&(L.$$scope={dirty:p,ctx:A}),d.$set(L)},i(A){M||(R(d.$$.fragment,A),M=!0)},o(A){C(d.$$.fragment,A),M=!1},d(A){A&&h(e),se(d)}}}function tt(n,e,t){let{showDebug:r}=e;function s(){r=this.checked,t(0,r)}return n.$$set=o=>{"showDebug"in o&&t(0,r=o.showDebug)},[r,s]}class nt extends X{constructor(e){super(),Y(this,e,tt,et,Z,{showDebug:0})}}function he(n){let e,t,r;return{c(){e=v("article"),t=v("pre"),r=N(n[2]),this.h()},l(s){e=y(s,"ARTICLE",{class:!0});var o=k(e);t=y(o,"PRE",{class:!0,id:!0});var l=k(t);r=j(l,n[2]),l.forEach(h),o.forEach(h),this.h()},h(){g(t,"class","min-h-100%"),g(t,"id","debug"),g(e,"class","flex-1 overflow-auto markdown-body")},m(s,o){P(s,e,o),m(e,t),m(t,r)},p(s,o){o&4&&Te(r,s[2])},d(s){s&&h(e)}}}function rt(n){let e,t,r,s,o,l,c,f,_,a,i,d;function M(u){n[8](u)}let A={};n[3]!==void 0&&(A.showDebug=n[3]),r=new nt({props:A}),x.push(()=>ie(r,"showDebug",M));function p(u){n[9](u)}let L={class:"flex-1 overflow-hidden",theme:n[4],errors:n[5]};n[0]!==void 0&&(L.value=n[0]),c=new Ce({props:L}),x.push(()=>ie(c,"value",p));let b=n[3]&&he(n);return{c(){e=T(),t=v("div"),te(r.$$.fragment),o=T(),l=v("div"),te(c.$$.fragment),_=T(),a=v("article"),i=T(),b&&b.c(),this.h()},l(u){Ie("svelte-1w3bpid",document.head).forEach(h),e=U(u),t=y(u,"DIV",{class:!0});var I=k(t);ne(r.$$.fragment,I),o=U(I),l=y(I,"DIV",{class:!0});var E=k(l);ne(c.$$.fragment,E),_=U(E),a=y(E,"ARTICLE",{class:!0,id:!0});var V=k(a);V.forEach(h),i=U(E),b&&b.l(E),E.forEach(h),I.forEach(h),this.h()},h(){document.title="Emblem Playground",g(a,"class","flex-1 overflow-auto markdown-body p-3"),g(a,"id","output"),g(l,"class","flex min-h-0 h-full"),g(t,"class","flex flex-col h-100vh")},m(u,D){P(u,e,D),P(u,t,D),re(r,t,null),m(t,o),m(t,l),re(c,l,null),m(l,_),m(l,a),a.innerHTML=n[1],m(l,i),b&&b.m(l,null),d=!0},p(u,[D]){const I={};!s&&D&8&&(s=!0,I.showDebug=u[3],ce(()=>s=!1)),r.$set(I);const E={};D&16&&(E.theme=u[4]),D&32&&(E.errors=u[5]),!f&&D&1&&(f=!0,E.value=u[0],ce(()=>f=!1)),c.$set(E),(!d||D&2)&&(a.innerHTML=u[1]),u[3]?b?b.p(u,D):(b=he(u),b.c(),b.m(l,null)):b&&(b.d(1),b=null)},i(u){d||(R(r.$$.fragment,u),R(c.$$.fragment,u),d=!0)},o(u){C(r.$$.fragment,u),C(c.$$.fragment,u),d=!1},d(u){u&&h(e),u&&h(t),se(r),se(c),b&&b.d()}}}function st(n,e,t){let r,s=!1,o="",l="",c="",f=!1,_="vs-dark",a=[];const i=Ke("(prefers-color-scheme: dark)");Le(n,i,p=>t(7,r=p));function d(p){if(!s)return;let L;try{L=qe(p)}catch(D){const I=D,E=I.locations,V=[];for(let O=0;O<E.length;O+=4)V.push({message:I.message,location:[E[O],E[O+1],E[O+2],E[O+3]]});t(5,a=V);return}t(5,a=[]);const[b,u]=L;t(1,l=b),t(2,c=u)}me(()=>{ke().then(()=>{s=!0})});function M(p){f=p,t(3,f)}function A(p){o=p,t(0,o)}return n.$$.update=()=>{n.$$.dirty&128&&t(4,_=r?"vs-dark":"vs"),n.$$.dirty&1&&d(o)},[o,l,c,f,_,a,i,r,M,A]}class it extends X{constructor(e){super(),Y(this,e,st,rt,Z,{})}}export{it as default};
