import{S as fe,i as de,s as he,k as g,l as p,m as y,h,n as f,b as Q,H as ie,o as me,J as le,K as ce,w as _e,L as ve,a as R,q as j,y as Ee,M as ke,c as S,r as F,z as Ae,G as c,A as Le,N as Me,O as Ie,g as Te,d as We,B as Re,I as Se,p as Ue,u as De}from"../chunks/index.ea5d5942.js";import{_ as xe}from"../chunks/preload-helper.41c905a7.js";import{r as Oe}from"../chunks/index.8cd51e96.js";function Pe(){return new Worker(""+new URL("../workers/editor.worker-d809e5e3.js",import.meta.url).href)}function Ve(e){let t,n;return{c(){t=g("div"),this.h()},l(r){t=p(r,"DIV",{class:!0}),y(t).forEach(h),this.h()},h(){f(t,"class",n="monaco-container "+(e[1].class??""))},m(r,a){Q(r,t,a),e[5](t)},p(r,[a]){a&2&&n!==(n="monaco-container "+(r[1].class??""))&&f(t,"class",n)},i:ie,o:ie,d(r){r&&h(t),e[5](null)}}}function Ce(e,t,n){let{value:r}=t,{theme:a}=t,o,s,i;me(async()=>{var b;n(4,o=await xe(()=>import("../chunks/editor.main.c3cd4c92.js").then(U=>U.e),["../chunks/editor.main.c3cd4c92.js","../chunks/preload-helper.41c905a7.js","../assets/editor.911c6360.css"],import.meta.url)),window.MonacoEnvironment={globalAPI:!0,getWorker(){return new Pe}},s=o.editor.create(i,{automaticLayout:!0,theme:a,value:r});const u=(b=s.getModel())==null?void 0:b.onDidChangeContent(()=>{n(2,r=s.getValue())});return()=>{u==null||u.dispose(),s.dispose()}});function d(u){_e[u?"unshift":"push"](()=>{i=u,n(0,i)})}return e.$$set=u=>{n(1,t=le(le({},t),ce(u))),"value"in u&&n(2,r=u.value),"theme"in u&&n(3,a=u.theme)},e.$$.update=()=>{e.$$.dirty&24&&a&&o&&o.editor.setTheme(a)},t=ce(t),[i,t,r,a,o,d]}class je extends fe{constructor(t){super(),de(this,t,Ce,Ve,he,{value:2,theme:3})}}let v;const be=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});be.decode();let H=null;function G(){return(H===null||H.byteLength===0)&&(H=new Uint8Array(v.memory.buffer)),H}function Fe(e,t){return be.decode(G().subarray(e,e+t))}const L=new Array(128).fill(void 0);L.push(void 0,null,!0,!1);let N=L.length;function He(e){N===L.length&&L.push(L.length+1);const t=N;return N=L[t],L[t]=e,t}let ee=0;const K=new TextEncoder("utf-8"),qe=typeof K.encodeInto=="function"?function(e,t){return K.encodeInto(e,t)}:function(e,t){const n=K.encode(e);return t.set(n),{read:e.length,written:n.length}};function Be(e,t,n){if(n===void 0){const i=K.encode(e),d=t(i.length);return G().subarray(d,d+i.length).set(i),ee=i.length,d}let r=e.length,a=t(r);const o=G();let s=0;for(;s<r;s++){const i=e.charCodeAt(s);if(i>127)break;o[a+s]=i}if(s!==r){s!==0&&(e=e.slice(s)),a=n(a,r,r=s+e.length*3);const i=G().subarray(a+s,a+r),d=qe(e,i);s+=d.written}return ee=s,a}let q=null;function J(){return(q===null||q.byteLength===0)&&(q=new Int32Array(v.memory.buffer)),q}function Ne(e){return L[e]}function ze(e){e<132||(L[e]=N,N=e)}function ge(e){const t=Ne(e);return ze(e),t}let B=null;function Je(){return(B===null||B.byteLength===0)&&(B=new Uint32Array(v.memory.buffer)),B}function Ge(e,t){const r=Je().subarray(e/4,e/4+t),a=[];for(let o=0;o<r.length;o++)a.push(ge(r[o]));return a}function Ke(e){try{const s=v.__wbindgen_add_to_stack_pointer(-16),i=Be(e,v.__wbindgen_malloc,v.__wbindgen_realloc),d=ee;v.build(s,i,d);var t=J()[s/4+0],n=J()[s/4+1],r=J()[s/4+2],a=J()[s/4+3];if(a)throw ge(r);var o=Ge(t,n).slice();return v.__wbindgen_free(t,n*4),o}finally{v.__wbindgen_add_to_stack_pointer(16)}}async function Qe(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Xe(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(t,n){const r=Fe(t,n);return He(r)},e}function Ye(e,t){return v=e.exports,pe.__wbindgen_wasm_module=t,q=null,B=null,H=null,v}async function pe(e){typeof e>"u"&&(e=new URL(""+new URL("../assets/emblem_wasm_bg.26e1bdf7.wasm",import.meta.url).href,self.location));const t=Xe();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Qe(await e,t);return Ye(n,r)}const Ze=e=>Oe(null,n=>{if(!globalThis.matchMedia)return;const r=globalThis.matchMedia(e);n(r.matches);const a=o=>n(o.matches);return r.addEventListener("change",a),()=>{r.removeEventListener("change",a)}});function ue(e){let t,n,r;return{c(){t=g("article"),n=g("pre"),r=j(e[2]),this.h()},l(a){t=p(a,"ARTICLE",{class:!0});var o=y(t);n=p(o,"PRE",{style:!0,id:!0});var s=y(n);r=F(s,e[2]),s.forEach(h),o.forEach(h),this.h()},h(){Ue(n,"min-height","100%"),f(n,"id","debug"),f(t,"class","flex-1 overflow-auto markdown-body")},m(a,o){Q(a,t,o),c(t,n),c(n,r)},p(a,o){o&4&&De(r,a[2])},d(a){a&&h(t)}}}function $e(e){let t,n,r,a,o,s,i,d,u,b,U,O,E,_,D,M,P,V,w,k,X,Y,I,Z,C,$,te;function ye(l){e[8](l)}let ne={class:"flex-1 overflow-auto",theme:e[4]};e[0]!==void 0&&(ne.value=e[0]),k=new je({props:ne}),_e.push(()=>ve(k,"value",ye));let m=e[3]&&ue(e);return{c(){t=R(),n=g("div"),r=g("nav"),a=g("h1"),o=j("Emblem Playground"),s=R(),i=g("a"),d=j("Docs"),u=R(),b=g("a"),U=j("Source"),O=R(),E=g("div"),_=g("input"),D=R(),M=g("label"),P=j("Show debug"),V=R(),w=g("div"),Ee(k.$$.fragment),Y=R(),I=g("article"),Z=R(),m&&m.c(),this.h()},l(l){ke("svelte-1w3bpid",document.head).forEach(h),t=S(l),n=p(l,"DIV",{class:!0});var T=y(n);r=p(T,"NAV",{class:!0});var W=y(r);a=p(W,"H1",{class:!0});var re=y(a);o=F(re,"Emblem Playground"),re.forEach(h),s=S(W),i=p(W,"A",{class:!0,href:!0});var ae=y(i);d=F(ae,"Docs"),ae.forEach(h),u=S(W),b=p(W,"A",{class:!0,href:!0});var se=y(b);U=F(se,"Source"),se.forEach(h),O=S(W),E=p(W,"DIV",{class:!0});var z=y(E);_=p(z,"INPUT",{id:!0,type:!0}),D=S(z),M=p(z,"LABEL",{for:!0});var oe=y(M);P=F(oe,"Show debug"),oe.forEach(h),z.forEach(h),W.forEach(h),V=S(T),w=p(T,"DIV",{class:!0});var x=y(w);Ae(k.$$.fragment,x),Y=S(x),I=p(x,"ARTICLE",{class:!0,id:!0});var we=y(I);we.forEach(h),Z=S(x),m&&m.l(x),x.forEach(h),T.forEach(h),this.h()},h(){document.title="Emblem Playground",f(a,"class","m-0 text-5"),f(i,"class","text-inherit no-underline hover:text-#ffb454"),f(i,"href","https://kcza.net/emblem/introduction.html"),f(b,"class","text-inherit no-underline hover:text-#ffb454"),f(b,"href","https://github.com/jf908/emblem-playground"),f(_,"id","show-debug"),f(_,"type","checkbox"),f(M,"for","show-debug"),f(E,"class","flex items-center gap-1 ml-auto"),f(r,"class","flex items-baseline p-2 gap-4 text-#c8c9db bg-#14191F select-none"),f(I,"class","flex-1 overflow-auto markdown-body p-3"),f(I,"id","output"),f(w,"class","flex h-full"),f(n,"class","flex flex-col h-100vh")},m(l,A){Q(l,t,A),Q(l,n,A),c(n,r),c(r,a),c(a,o),c(r,s),c(r,i),c(i,d),c(r,u),c(r,b),c(b,U),c(r,O),c(r,E),c(E,_),_.checked=e[3],c(E,D),c(E,M),c(M,P),c(n,V),c(n,w),Le(k,w,null),c(w,Y),c(w,I),I.innerHTML=e[1],c(w,Z),m&&m.m(w,null),C=!0,$||(te=Me(_,"change",e[7]),$=!0)},p(l,[A]){A&8&&(_.checked=l[3]);const T={};A&16&&(T.theme=l[4]),!X&&A&1&&(X=!0,T.value=l[0],Ie(()=>X=!1)),k.$set(T),(!C||A&2)&&(I.innerHTML=l[1]),l[3]?m?m.p(l,A):(m=ue(l),m.c(),m.m(w,null)):m&&(m.d(1),m=null)},i(l){C||(Te(k.$$.fragment,l),C=!0)},o(l){We(k.$$.fragment,l),C=!1},d(l){l&&h(t),l&&h(n),Re(k),m&&m.d(),$=!1,te()}}}function et(e,t,n){let r,a=!1,o="",s="",i="",d=!1,u="vs-dark";const b=Ze("(prefers-color-scheme: dark)");Se(e,b,_=>n(6,r=_));function U(_){if(!a)return;let D;try{D=Ke(_)}catch(V){console.error(V);return}const[M,P]=D;n(1,s=M),n(2,i=P)}me(()=>{pe().then(()=>{a=!0})});function O(){d=this.checked,n(3,d)}function E(_){o=_,n(0,o)}return e.$$.update=()=>{e.$$.dirty&64&&n(4,u=r?"vs-dark":"vs"),e.$$.dirty&1&&U(o)},[o,s,i,d,u,b,r,O,E]}class at extends fe{constructor(t){super(),de(this,t,et,$e,he,{})}}export{at as default};
