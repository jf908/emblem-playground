import{S as Y,i as Z,s as $,k as w,l as v,m as E,h as m,n as b,b as R,H as ee,o as be,J as K,K as Q,w as X,C as pe,a as T,c as P,G as h,L as te,D as we,E as ve,F as ye,g as C,v as De,d as V,f as Le,M as Ie,q as N,y as ne,r as B,z as se,A as re,B as oe,N as ue,O as Te,P as fe,I as Pe,u as Ue}from"../chunks/index.45ad9d22.js";import{_ as Re}from"../chunks/preload-helper.41c905a7.js";import{r as Ce}from"../chunks/index.b4a1b10e.js";function We(){return new Worker(""+new URL("../workers/editor.worker-d809e5e3.js",import.meta.url).href)}const Se={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],onEnterRules:[{beforeText:new RegExp("^\\s*.*?:\\s*$"),action:{indentAction:1}}],folding:{markers:{start:/^\\s*\/\/ region:\\b/,end:/^\\s*\/\/ endregion\\b/}}},Ve={defaultToken:"",tokenPostfix:".em",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,tokenizer:{root:[[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],{include:"@linecontent"}],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/!([^\\!]|@escapes)+!/,"string"],[/==([^\\*]|@escapes|=(?!=))+==/,"emphasis"],[/=([^\\*]|@escapes)+=/,"strong"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]]}};function Oe(n){let e,t;return{c(){e=w("div"),this.h()},l(s){e=v(s,"DIV",{class:!0}),E(e).forEach(m),this.h()},h(){b(e,"class",t="monaco-container "+(n[1].class??""))},m(s,r){R(s,e,r),n[7](e)},p(s,[r]){r&2&&t!==(t="monaco-container "+(s[1].class??""))&&b(e,"class",t)},i:ee,o:ee,d(s){s&&m(e),n[7](null)}}}function Ne(n,e,t){if(!e)return;const s=e.getModel();s&&n.editor.setModelMarkers(s,"emblem",t.map(r=>({severity:n.MarkerSeverity.Error,startLineNumber:r.location[0],startColumn:r.location[1],endLineNumber:r.location[2],endColumn:r.location[3],message:r.message})))}function Be(n,e,t){let{value:s}=e,{theme:r}=e,{errors:o}=e,a,c,f;be(async()=>{var i;t(5,a=await Re(()=>import("../chunks/editor.main.c3cd4c92.js").then(d=>d.e),["../chunks/editor.main.c3cd4c92.js","../chunks/preload-helper.41c905a7.js","../assets/editor.911c6360.css"],import.meta.url)),window.MonacoEnvironment={globalAPI:!0,getWorker(){return new We}},a.languages.register({id:"emblem"}),a.languages.setLanguageConfiguration("emblem",Se),a.languages.setMonarchTokensProvider("emblem",Ve),t(6,c=a.editor.create(f,{automaticLayout:!0,fontFamily:'"JetBrains Mono", monospace',theme:r,value:s,language:"emblem"}));const l=(i=c.getModel())==null?void 0:i.onDidChangeContent(()=>{t(2,s=c.getValue())});return()=>{l==null||l.dispose(),c.dispose()}});function _(l){X[l?"unshift":"push"](()=>{f=l,t(0,f)})}return n.$$set=l=>{t(1,e=K(K({},e),Q(l))),"value"in l&&t(2,s=l.value),"theme"in l&&t(3,r=l.theme),"errors"in l&&t(4,o=l.errors)},n.$$.update=()=>{n.$$.dirty&40&&r&&a&&a.editor.setTheme(r),n.$$.dirty&112&&Ne(a,c,o)},e=Q(e),[f,e,s,r,o,a,c,_]}class je extends Y{constructor(e){super(),Z(this,e,Be,Oe,$,{value:2,theme:3,errors:4})}}let p;const Ee=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ee.decode();let z=null;function J(){return(z===null||z.byteLength===0)&&(z=new Uint8Array(p.memory.buffer)),z}function ae(n,e){return Ee.decode(J().subarray(n,n+e))}const U=new Array(128).fill(void 0);U.push(void 0,null,!0,!1);let x=U.length;function de(n){x===U.length&&U.push(U.length+1);const e=x;return x=U[e],U[e]=n,e}let H=null;function W(){return(H===null||H.byteLength===0)&&(H=new Int32Array(p.memory.buffer)),H}let j=0;const G=new TextEncoder("utf-8"),Fe=typeof G.encodeInto=="function"?function(n,e){return G.encodeInto(n,e)}:function(n,e){const t=G.encode(n);return e.set(t),{read:n.length,written:t.length}};function ke(n,e,t){if(t===void 0){const c=G.encode(n),f=e(c.length);return J().subarray(f,f+c.length).set(c),j=c.length,f}let s=n.length,r=e(s);const o=J();let a=0;for(;a<s;a++){const c=n.charCodeAt(a);if(c>127)break;o[r+a]=c}if(a!==s){a!==0&&(n=n.slice(a)),r=t(r,s,s=a+n.length*3);const c=J().subarray(r+a,r+s),f=Fe(n,c);a+=f.written}return j=a,r}let q=null;function le(){return(q===null||q.byteLength===0)&&(q=new Uint32Array(p.memory.buffer)),q}function ze(n,e){return le().subarray(n/4,n/4+e)}function He(n,e){const t=e(n.length*4);return le().set(n,t/4),j=n.length,t}function qe(n){return U[n]}function xe(n){n<132||(U[n]=x,x=n)}function Me(n){const e=qe(n);return xe(n),e}function Je(n,e){const s=le().subarray(n/4,n/4+e),r=[];for(let o=0;o<s.length;o++)r.push(Me(s[o]));return r}function Ge(n){try{const a=p.__wbindgen_add_to_stack_pointer(-16),c=ke(n,p.__wbindgen_malloc,p.__wbindgen_realloc),f=j;p.build(a,c,f);var e=W()[a/4+0],t=W()[a/4+1],s=W()[a/4+2],r=W()[a/4+3];if(r)throw Me(s);var o=Je(e,t).slice();return p.__wbindgen_free(e,t*4),o}finally{p.__wbindgen_add_to_stack_pointer(16)}}class ie{static __wrap(e){const t=Object.create(ie.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();p.__wbg_emblemerror_free(e)}get message(){try{const s=p.__wbindgen_add_to_stack_pointer(-16);p.__wbg_get_emblemerror_message(s,this.ptr);var e=W()[s/4+0],t=W()[s/4+1];return ae(e,t)}finally{p.__wbindgen_add_to_stack_pointer(16),p.__wbindgen_free(e,t)}}set message(e){const t=ke(e,p.__wbindgen_malloc,p.__wbindgen_realloc),s=j;p.__wbg_set_emblemerror_message(this.ptr,t,s)}get locations(){try{const r=p.__wbindgen_add_to_stack_pointer(-16);p.__wbg_get_emblemerror_locations(r,this.ptr);var e=W()[r/4+0],t=W()[r/4+1],s=ze(e,t).slice();return p.__wbindgen_free(e,t*4),s}finally{p.__wbindgen_add_to_stack_pointer(16)}}set locations(e){const t=He(e,p.__wbindgen_malloc),s=j;p.__wbg_set_emblemerror_locations(this.ptr,t,s)}}async function Ke(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(s){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function Qe(){const n={};return n.wbg={},n.wbg.__wbg_emblemerror_new=function(e){const t=ie.__wrap(e);return de(t)},n.wbg.__wbindgen_string_new=function(e,t){const s=ae(e,t);return de(s)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(ae(e,t))},n}function Xe(n,e){return p=n.exports,Ae.__wbindgen_wasm_module=e,H=null,q=null,z=null,p}async function Ae(n){typeof n>"u"&&(n=new URL(""+new URL("../assets/emblem_wasm_bg.f64ced44.wasm",import.meta.url).href,self.location));const e=Qe();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:s}=await Ke(await n,e);return Xe(t,s)}const Ye=n=>Ce(null,t=>{if(!globalThis.matchMedia)return;const s=globalThis.matchMedia(n);t(s.matches);const r=o=>t(o.matches);return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}}),_e="https://github.com/TheSignPainter98/emblem#26f2ee9a278f5d1188bc761138ce86a6ac7108c6",Ze=n=>({}),me=n=>({});function he(n){let e,t;const s=n[6].default,r=pe(s,n,n[5],null);return{c(){e=w("div"),r&&r.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var a=E(e);r&&r.l(a),a.forEach(m),this.h()},h(){b(e,"class","fixed z-1 right-0")},m(o,a){R(o,e,a),r&&r.m(e,null),t=!0},p(o,a){r&&r.p&&(!t||a&32)&&we(r,s,o,o[5],t?ye(s,o[5],a,null):ve(o[5]),null)},i(o){t||(C(r,o),t=!0)},o(o){V(r,o),t=!1},d(o){o&&m(e),r&&r.d(o)}}}function $e(n){let e,t,s,r,o,a,c;const f=n[6].button,_=pe(f,n,n[5],me);let l=n[0]&&he(n);return{c(){e=w("div"),t=w("button"),_&&_.c(),r=T(),l&&l.c(),this.h()},l(i){e=v(i,"DIV",{});var d=E(e);t=v(d,"BUTTON",{class:!0});var D=E(t);_&&_.l(D),D.forEach(m),r=P(d),l&&l.l(d),d.forEach(m),this.h()},h(){b(t,"class",s=n[4].class??"")},m(i,d){R(i,e,d),h(e,t),_&&_.m(t,null),h(e,r),l&&l.m(e,null),n[7](e),o=!0,a||(c=[te(window,"mousedown",n[3]),te(t,"click",n[2])],a=!0)},p(i,[d]){_&&_.p&&(!o||d&32)&&we(_,f,i,i[5],o?ye(f,i[5],d,Ze):ve(i[5]),me),(!o||d&16&&s!==(s=i[4].class??""))&&b(t,"class",s),i[0]?l?(l.p(i,d),d&1&&C(l,1)):(l=he(i),l.c(),C(l,1),l.m(e,null)):l&&(De(),V(l,1,1,()=>{l=null}),Le())},i(i){o||(C(_,i),C(l),o=!0)},o(i){V(_,i),V(l),o=!1},d(i){i&&m(e),_&&_.d(i),l&&l.d(),n[7](null),a=!1,Ie(c)}}}function et(n,e,t){let{$$slots:s={},$$scope:r}=e,{open:o=!1}=e,a;function c(){t(0,o=!o)}function f(l){o&&!a.contains(l.target)&&t(0,o=!1)}function _(l){X[l?"unshift":"push"](()=>{a=l,t(1,a)})}return n.$$set=l=>{t(4,e=K(K({},e),Q(l))),"open"in l&&t(0,o=l.open),"$$scope"in l&&t(5,r=l.$$scope)},e=Q(e),[o,a,c,f,e,r,s,_]}class tt extends Y{constructor(e){super(),Z(this,e,et,$e,$,{open:0})}}function nt(n){let e,t,s,r,o,a,c=_e.split("#")[1].substring(0,8)+"",f,_,l,i,d,D,M,k,y;return{c(){e=w("div"),t=w("div"),s=N(`Using emblem_core
					`),r=w("a"),o=w("span"),a=T(),f=N(c),_=T(),l=w("div"),i=w("input"),d=T(),D=w("label"),M=N("Show debug"),this.h()},l(g){e=v(g,"DIV",{class:!0});var u=E(e);t=v(u,"DIV",{});var A=E(t);s=B(A,`Using emblem_core
					`),r=v(A,"A",{class:!0,href:!0});var I=E(r);o=v(I,"SPAN",{class:!0}),E(o).forEach(m),a=P(I),f=B(I,c),I.forEach(m),A.forEach(m),_=P(u),l=v(u,"DIV",{});var L=E(l);i=v(L,"INPUT",{id:!0,type:!0}),d=P(L),D=v(L,"LABEL",{for:!0});var S=E(D);M=B(S,"Show debug"),S.forEach(m),L.forEach(m),u.forEach(m),this.h()},h(){b(o,"class","i-ph-git-commit"),b(r,"class","text-inherit no-underline rounded hover:text-accent px-1 bg-bg-muted"),b(r,"href",_e),b(i,"id","show-debug"),b(i,"type","checkbox"),b(D,"for","show-debug"),b(e,"class","bg-bg-default w-80 p-3 shadow-lg flex flex-col gap-4")},m(g,u){R(g,e,u),h(e,t),h(t,s),h(t,r),h(r,o),h(r,a),h(r,f),h(e,_),h(e,l),h(l,i),i.checked=n[0],h(l,d),h(l,D),h(D,M),k||(y=te(i,"change",n[1]),k=!0)},p(g,u){u&1&&(i.checked=g[0])},d(g){g&&m(e),k=!1,y()}}}function st(n){let e;return{c(){e=w("span"),this.h()},l(t){e=v(t,"SPAN",{class:!0,slot:!0}),E(e).forEach(m),this.h()},h(){b(e,"class","i-ph-list"),b(e,"slot","button")},m(t,s){R(t,e,s)},p:ee,d(t){t&&m(e)}}}function rt(n){let e,t,s,r,o,a,c,f,_,l,i,d,D;return d=new tt({props:{class:"h-full w-10 ml-auto bg-transparent b-0 text-inherit hover:bg-bg-muted text-6",$$slots:{button:[st],default:[nt]},$$scope:{ctx:n}}}),{c(){e=w("nav"),t=w("h1"),s=N("Emblem Playground"),r=T(),o=w("a"),a=w("span"),c=T(),f=w("a"),_=N("Docs"),l=T(),i=w("div"),ne(d.$$.fragment),this.h()},l(M){e=v(M,"NAV",{class:!0});var k=E(e);t=v(k,"H1",{class:!0});var y=E(t);s=B(y,"Emblem Playground"),y.forEach(m),r=P(k),o=v(k,"A",{class:!0,href:!0});var g=E(o);a=v(g,"SPAN",{class:!0}),E(a).forEach(m),g.forEach(m),c=P(k),f=v(k,"A",{class:!0,href:!0});var u=E(f);_=B(u,"Docs"),u.forEach(m),l=P(k),i=v(k,"DIV",{class:!0});var A=E(i);se(d.$$.fragment,A),A.forEach(m),k.forEach(m),this.h()},h(){b(t,"class","m-0 pl-3 text-5"),b(a,"class","text-5 i-ph-github-logo"),b(o,"class","text-inherit no-underline hover:text-accent"),b(o,"href","https://github.com/jf908/emblem-playground"),b(f,"class","text-inherit no-underline hover:text-accent"),b(f,"href","https://kcza.net/emblem/introduction.html"),b(i,"class","ml-auto h-full flex"),b(e,"class","flex items-center h-45px gap-4 text-fg-default bg-bg-default select-none")},m(M,k){R(M,e,k),h(e,t),h(t,s),h(e,r),h(e,o),h(o,a),h(e,c),h(e,f),h(f,_),h(e,l),h(e,i),re(d,i,null),D=!0},p(M,[k]){const y={};k&5&&(y.$$scope={dirty:k,ctx:M}),d.$set(y)},i(M){D||(C(d.$$.fragment,M),D=!0)},o(M){V(d.$$.fragment,M),D=!1},d(M){M&&m(e),oe(d)}}}function ot(n,e,t){let{showDebug:s}=e;function r(){s=this.checked,t(0,s)}return n.$$set=o=>{"showDebug"in o&&t(0,s=o.showDebug)},[s,r]}class at extends Y{constructor(e){super(),Z(this,e,ot,rt,$,{showDebug:0})}}function ge(n){let e,t,s;return{c(){e=w("article"),t=w("pre"),s=N(n[2]),this.h()},l(r){e=v(r,"ARTICLE",{class:!0});var o=E(e);t=v(o,"PRE",{class:!0,id:!0});var a=E(t);s=B(a,n[2]),a.forEach(m),o.forEach(m),this.h()},h(){b(t,"class","min-h-100%"),b(t,"id","debug"),b(e,"class","flex-1 overflow-auto markdown-body")},m(r,o){R(r,e,o),h(e,t),h(t,s)},p(r,o){o&4&&Ue(s,r[2])},d(r){r&&m(e)}}}function lt(n){let e,t,s,r,o,a,c,f,_,l,i,d;function D(u){n[10](u)}let M={};n[3]!==void 0&&(M.showDebug=n[3]),s=new at({props:M}),X.push(()=>ue(s,"showDebug",D));function k(u){n[11](u)}let y={class:"flex-1 overflow-hidden",theme:n[4],errors:n[5]};n[0]!==void 0&&(y.value=n[0]),c=new je({props:y}),X.push(()=>ue(c,"value",k));let g=n[3]&&ge(n);return{c(){e=T(),t=w("div"),ne(s.$$.fragment),o=T(),a=w("div"),ne(c.$$.fragment),_=T(),l=w("article"),i=T(),g&&g.c(),this.h()},l(u){Te("svelte-1w3bpid",document.head).forEach(m),e=P(u),t=v(u,"DIV",{class:!0});var I=E(t);se(s.$$.fragment,I),o=P(I),a=v(I,"DIV",{class:!0});var L=E(a);se(c.$$.fragment,L),_=P(L),l=v(L,"ARTICLE",{class:!0,id:!0});var S=E(l);S.forEach(m),i=P(L),g&&g.l(L),L.forEach(m),I.forEach(m),this.h()},h(){document.title="Emblem Playground",b(l,"class","flex-1 overflow-auto markdown-body p-3"),b(l,"id","output"),b(a,"class","flex min-h-0 h-full"),b(t,"class","flex flex-col h-100vh")},m(u,A){R(u,e,A),R(u,t,A),re(s,t,null),h(t,o),h(t,a),re(c,a,null),h(a,_),h(a,l),l.innerHTML=n[1],h(a,i),g&&g.m(a,null),d=!0},p(u,[A]){const I={};!r&&A&8&&(r=!0,I.showDebug=u[3],fe(()=>r=!1)),s.$set(I);const L={};A&16&&(L.theme=u[4]),A&32&&(L.errors=u[5]),!f&&A&1&&(f=!0,L.value=u[0],fe(()=>f=!1)),c.$set(L),(!d||A&2)&&(l.innerHTML=u[1]),u[3]?g?g.p(u,A):(g=ge(u),g.c(),g.m(a,null)):g&&(g.d(1),g=null)},i(u){d||(C(s.$$.fragment,u),C(c.$$.fragment,u),d=!0)},o(u){V(s.$$.fragment,u),V(c.$$.fragment,u),d=!1},d(u){u&&m(e),u&&m(t),oe(s),oe(c),g&&g.d()}}}function it(n,e,t){let s,{data:r}=e,o=!1,a=r.samples[Math.floor(Math.random()*r.samples.length)],c="",f="",_=!1,l="vs-dark",i=[];const d=Ye("(prefers-color-scheme: dark)");Pe(n,d,y=>t(9,s=y));function D(y,g){if(!y)return;let u;try{u=Ge(g)}catch(L){const S=L,F=S.locations,ce=[];for(let O=0;O<F.length;O+=4)ce.push({message:S.message,location:[F[O],F[O+1],F[O+2],F[O+3]]});t(5,i=ce);return}t(5,i=[]);const[A,I]=u;t(1,c=A),t(2,f=I)}be(()=>{Ae().then(()=>{t(8,o=!0)})});function M(y){_=y,t(3,_)}function k(y){a=y,t(0,a)}return n.$$set=y=>{"data"in y&&t(7,r=y.data)},n.$$.update=()=>{n.$$.dirty&512&&t(4,l=s?"vs-dark":"vs"),n.$$.dirty&257&&D(o,a)},[a,c,f,_,l,i,d,r,o,s,M,k]}class dt extends Y{constructor(e){super(),Z(this,e,it,lt,$,{data:7})}}export{dt as default};
